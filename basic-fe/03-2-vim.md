# vim 使用

## 为什么学习 vim

大型网站的服务器一般是无图形化界面的 Linux 系统，当需要进行调试、远程处理问题的时候，只能调出  terminal（终端窗口），然后用命令 `vim index.html`这样的方式，调出 vim 编辑器，再进行更改。

## unit 1
### 1. 移动光标
- h：左
- j：下
- k：上
- l：右
### 2. 进入和退出
#### 2.1 进入编辑器
- 输入：vim 文件名 <回车>
#### 2.2 退出编辑器
1. 按 <ESC> 键(这是为了确保您处在正常模式)

2. 输入`:q` `回车` 

   这种方式的退出编辑器会丢弃您进入编辑器以来所做的改动，与6有区别。

### 3. 正常模式下的删除
- 按下 `x` 键来删除光标所在位置的字符
### 4. 插入
- `i`: 插入命令
### 5. 添加
- `A`:添加（与i功能类似）
### 6. 保存并退出
1. 按<ESC>键(这是为了确保您处在正常模式)
2. 输入`:wq` `回车`
## unit 2 删除类命令
### 1. 删除单词

- `dw`:从光标处删除至一个单词的末尾
### 2. 删除一行
- `d$`:从当前光标删除到行末
### 3. 关于命令和对象
- 许多改变文本的命令都由一个操作符和一个动作构成。
  - 使用删除操作符 d 的删除命令的格式如下：
  `d motion`
  - `d`:删除操作符
  - `motion`：操作符的操作对象
- 一个简短的动作列表：
    `w` - 从当前光标当前位置直到下一个单词起始处，不包括它的第一个字符(即删除了单词间的空格)。
    `e` - 从当前光标当前位置直到单词末尾，包括最后一个字符（即保留了单词间的空格）。
    `$` - 从当前光标当前位置直到当前行末。
### 4. 使用计数指定动作
- `2w`:使光标向前移动两个单词
- `3e`:光标向前移动到第三个单词末尾
- `0`:回到行首
### 5. 使用计数器删除更多
- 在删除操作符和动作的组合中插入一个数字以删除更多：
  - `d number motion`
### 6. 删除整行
- 删除整行是一个高频使用的命令，故vim设计了简化版的操作`dd`
- `dd`:删除整行
- `αdd`:删除α行
### 7. 撤消命令
- `u`:撤消上一次命令
- `U`:行撤消，撤销所有在前一个编辑整行上的操作
- `ctrl + r`:撤销上一步「撤销操作」
## unit 3
### 1. 置入类命令
- `p`:将最后一次删除的内容置入光标之后（可以作为粘贴命令）
### 2. 替换命令
- `r`:输入r和一个字符替换光标所在位置的字符
### 3. 更改命令
- `ce`,`cw`:改变文本直到一个单词的末尾
  - 按`ce`或`cw`键，输入要改的正确文本
  - 按`Esc`退出
> 这两个命令不仅仅是删除了一个单词，它也让您进入插入模式了
### 4. `C`操作符和动作参数(motion)配合使用
- 操作格式:`c [number] motion`
  - `w`代表单词，`$`代表行末
## unit 4
### 1. 定位及文件状态
- `ctrl + g`:显示当前编辑文件中当前光标所在行位置以及文件状态信息。输入大写 G 则直接跳转到文件中的某一指定行
- 操作步骤：
  1. 按下 CTRL 键不放开然后按 g 键，会看到页面最底部出现一个状态信息行，显示的内容是当前编辑的文件名和文件中光标位置。请记住行号，它会在步骤3中用到。
  2. 输入大写 `G` 可以使得当前光标直接跳转到文件最后一行。输入 `gg` 可以使得当前光标直接跳转到文件第一行。
  3. 输入曾停留的行号，然后输入大写 `G`。这样就可以返回到第一次按下`CTRL-G` 时所在的行了。
### 2. 搜索类命令
- `/`:正向查找字符串， `/`加上一个字符串可以用以在当前文件中查找该字符串
- `n`:重复上一次的命令，要查找同上一次的字符串，只需要按 `n` 键。要向相反方向查找同上一次的字符串，请输入大写 `N` 即可。
- `?`:逆向查找字符串，使用 `?`(此时`n`变成向前查找，`N`变成向后查找)
- `ctrl + o`:回到之前的位置
- `ctrl + i`:回到较新的位置
### 3. 配对括号的查找
- `%`:输入 `%` 可以查找配对的括号 `)、]、}`
- 步骤：
  1. 把光标放在`(、[` 或 `{` 处
  2. 按 `%` 字符，光标的位置应当是在配对的括号处。
  3. 再次按 % 就可以跳回配对的第一个括号处。
> 在程序调试时，这个功能用来查找不配对的括号是很有用的
### 4. 替换命令
- `:s/old/new/g`:替换该行所有`old`为`new`
- `:s/old/new`:只替换匹配到的第一个'old'
- `:%s/old/new/g`:在文件内替换所有的字符串 `old` 为新的字符串 `new`
- `:%s/old/new/gc`:找到整个文件中的每个匹配串，并且对每个匹配串提示是否进行替换
- `:#,#s/old/new/g`:替换两行之间出现的每个匹配串，其中 #,# 代表的是替换操作的若干行中首尾两行的行号
## unit 5
### 1. 在vim中执行外部命令
- `:!`:输入 `:!` 然后紧接着输入一个外部命令可以执行该外部命令
  
  - > 例如输入`:!ls`效果如同在命令行下输入ls
### 2. 关于保存文件的更多信息
- `w filename`:将 `vim` 中正在编辑的文件文件保存到名为 `filename` 的文件中
### 3. 有选择性的保存命令
- `v motion :w FILENAME` 可将当前编辑文件中可视模式下选中的内容保存到文件FILENAME 中
  - 步骤：
  1. 移动光标到本行
  2. 接着按 `v` 键，将光标移动至下面第五个条目上。之间的文本被高亮了。
  3. 然后按 `:` 字符。屏幕底部会出现 :'<,'> 。
  4. 现在请输入 `w TEST`，其中 `TEST` 是一个未被使用的文件名。看到了`:'<,'>w TEST` 之后按 <回车> 键。
  5. 这时 Vim 会把选中的行写入到以 TEST 命名的文件中去。
> 提示：：按 `v` 键使 `Vim` 进入可视模式进行选取。可以四处移动光标使选取区域变大或变小。接着可以使用一个操作符对选中文本进行操作。例如，按 `d` 键会删除选中的文本内容。
### 4. 提取和合并文件
- `:r filename`:将filename文件提取出来，黏贴到光标位置
  - `r`命令还能读取外部命令的输出，例如`:r !ls`会读取`ls`命令的输出，粘贴到光标下面
## unit 6
### 1. 打开类命令
- `o`: 在光标 *下方* 打开新的一行，进入插入模式。
- `O`: 在光标 *上方* 打开新的一行，进入插入模式。
### 2. 附加类命令
- `a`: 输入`a`后进入插入模式，可在光标之后插入文本
> 提示：`a`、`i` 和 `A` 都会带您进入插入模式，惟一的区别在于字符插入的位置
- `a`:光标后一个位置
- `i`：当前光标位置
- `A`：行末
### 3. 连续替换多个字符
- `R`:输入 `R` 可以连续替换多个字符
### 4. 复制粘贴
- `y`:复制
- `p`:粘贴
### 5. 设置类命令的选项
- `:set xxx` 可以设置 `xxx` 选项。一些有用的选项如下：
  - 'ic' 'ignorecase'   查找时忽略字母大小写
  - 'is' 'incsearch'    查找短语时显示部分匹配
  - 'hls' 'hlsearch'    高亮显示所有的匹配短语
> 选项名可以用完整版本，也可以用缩略版本。
>
> - 在选项前加上 no 可以关闭选项：  :set noic
## unit 7
#### 1. 使用在线帮助系统
- Vim 拥有一个细致全面的在线帮助系统。要启动该帮助系统，请选择如下三种方法之一：
  - 按下 <HELP> 键 (如果键盘上有的话)
  - 按下 <F1> 键 (如果键盘上有的话)
  - 输入 `:help <回车>`
#### 2. 创建启动脚本
#### 3. 补全功能
- 使用 `CTRL-D` 和 `<TAB>` 可以进行命令行补全







