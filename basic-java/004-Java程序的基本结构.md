# Java程序的基本结构

## Java语言特性

Java 是一种强类型，静态编译的语言。这写特性会使 Java 看起来比较死板，但是也使得它很适合开发团队协作项目以及大型工程化项目。Java 的生态系统非常强大，因此具有很高的市场占有率。Java 是一种非常适合初学者学习的语言，Java 编译器会帮开发者检查出绝大多数的问题，不会像动态语言那样很容易把代码写坏掉，比如 node，python，ruby。node 社区开始兴起 Typescript，就是对静态语言更适合工程化大项目开发的证明。

## Java语言的跨平台性与字节码

跨平台性是指，在某个操作系统平台上写的代码或开发的软件，不经过任何修改就能移植到另一操作系统平台上正常运行。Java 是跨平台的，实现了一次编译到处运行。

世界上有很多操作系统。要在某一操作系统上完成一个操作或实现一个功能就要调用该操作系统的 API （应用程序编程接口）来和操作系统对话。这就给开发者带来一个很大的难题：由于每种操作系统的 API 都是不同的，开发以一款软件在多有的操作系统上都可以正常运行的软件或代码就会很困难。有两种办法解决这个问题：

1. 在每一个操作系统平台上都开发一款软件，在对应操作系统上调用它的 API 进行通信。
2. 在各个操作系统平台上再抽象出一层统一的接口，开发者只要实现这层接口，它会负责与操作系统的 API 通信。即开发与平台无关的中间层语言，以及可以把中间层语言翻译成对应操作系统的 API 调用的软件。

显然第二种方法更为科学。在 Java 中这种软件就是 JVM，这种中间层的语言就是字节码（byte code）。Java 为了实现跨平台性，为每种操作系统平台开发了一个 JVM，并且为 JVM 开发了一种统一的标准语言--字节码。注意：Java 语言是跨平台的，而 JVM 是不跨平台的。Java 源码转变为字节码的过程叫做编译，在这一过程种，编译器帮助开发者检查各种错误，为我们提供了最大的安全保障。

![java-跨平台](.\imgs\004\java-跨平台.png)

## Java 语言的基本单元-类与包

### 类

Java 程序的基本结构是类。一个 Java 程序是由若干的类组成的。类与类之间有清晰而又明显的边界。一个 `.java` 文件中可以有任意个类，但是 `public` 类只能有一个，并且 `public` 类要与 `.java` 文件的文件名相同。不过建议一个 `.java` 文件中只有一个类。

### 包

包的本质就是文件夹，有两个作用：

1. 起到对文件分类保存的作用
2. 提供更多的命名空间，避免命名冲突。区别同名但不同的类

在 Maven 项目中，每一个类都处在一个包中，包名是由相对于 `./src/main/java` 或 `./src/test/java` 目录的相对路径确定。包名要以所拥有域名的反式来命名，如 `com.alibaba`。

Maven 项目的项目结构约定，项目的主要代码，即生产代码位于 `./src/main/java` 目录中，测试代码位于 `./src/test/java` 目录中。

为什么需要包呢？

类是一个简单的字符串，为了避免重名，使用包来区分它们。 JVM 被设计的非常简单，只能识别全限定类名，然后根据全限定类名去查找类，执行类中的代码。即使代码中声明或使用的类是简单形式，在 JVM 看来也是全限定类名。全限定类名就是包名 + 简答类名。所过代码中所有的类都写成全限定类名，代码就会变得很啰嗦且写起来麻烦。因此 JVM 允许在不引起歧义的情况下通过 `import` 导包，从而使用简单类名写代码。这种情况下 JVM 依然使用全限定类名理解代码。

## 在Java中引用第三方包

在 pom.xml 文件中添加一个依赖包的声明，把需要的包引入到项目中。然后项目就可以使用第三方包中的类并且不报错

step into 单步进入，进入到下个方法

step over 执行当前行的执行，跳到下一行去。即执行下一条语句

局部变量的作用域：块作用域。即离他最近的包围他的花括号